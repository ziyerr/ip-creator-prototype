<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vercel éƒ¨ç½²çŠ¶æ€æ£€æŸ¥</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        .status {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-weight: bold;
        }
        .success { background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; }
        .warning { background: rgba(251, 191, 36, 0.2); border: 2px solid #fbbf24; }
        .error { background: rgba(239, 68, 68, 0.2); border: 2px solid #ef4444; }
        .info { background: rgba(59, 130, 246, 0.2); border: 2px solid #3b82f6; }
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
            transition: transform 0.2s;
        }
        button:hover {
            transform: translateY(-2px);
        }
        .deployment-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .deployment-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 8px;
        }
        .deployment-item h3 {
            margin-top: 0;
            color: #fbbf24;
        }
        .url-link {
            color: #60a5fa;
            text-decoration: none;
            font-weight: bold;
        }
        .url-link:hover {
            color: #93c5fd;
            text-decoration: underline;
        }
        .test-results {
            max-height: 300px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Vercel è‡ªåŠ¨éƒ¨ç½²çŠ¶æ€</h1>
        
        <div class="deployment-info">
            <div class="deployment-item">
                <h3>ğŸ“¦ ç”Ÿäº§ç¯å¢ƒ</h3>
                <p><strong>URL:</strong> <a href="https://ip-creator-ziyerrs-projects.vercel.app" target="_blank" class="url-link">ip-creator-ziyerrs-projects.vercel.app</a></p>
                <p><strong>çŠ¶æ€:</strong> <span id="prodStatus">æ£€æŸ¥ä¸­...</span></p>
                <p><strong>æœ€åæ›´æ–°:</strong> <span id="prodUpdated">-</span></p>
            </div>
            
            <div class="deployment-item">
                <h3>ğŸ”§ å¼€å‘ç¯å¢ƒ</h3>
                <p><strong>æœ¬åœ°:</strong> <a href="http://localhost:3000" target="_blank" class="url-link">localhost:3000</a></p>
                <p><strong>çŠ¶æ€:</strong> <span id="devStatus">æ£€æŸ¥ä¸­...</span></p>
                <p><strong>Git åˆ†æ”¯:</strong> main</p>
            </div>
        </div>

        <div class="status info">
            <strong>ğŸ”„ è‡ªåŠ¨éƒ¨ç½²æµç¨‹:</strong><br>
            1. æ¨é€ä»£ç åˆ° GitHub main åˆ†æ”¯<br>
            2. Vercel è‡ªåŠ¨æ£€æµ‹æ›´æ”¹<br>
            3. æ„å»ºå’Œéƒ¨ç½²æ–°ç‰ˆæœ¬<br>
            4. æ›´æ–°ç”Ÿäº§ç¯å¢ƒ URL
        </div>

        <div>
            <button onclick="checkDeployment()">ğŸ” æ£€æŸ¥éƒ¨ç½²çŠ¶æ€</button>
            <button onclick="testAPI()">ğŸ§ª æµ‹è¯• API</button>
            <button onclick="openProduction()">ğŸŒ æ‰“å¼€ç”Ÿäº§ç¯å¢ƒ</button>
            <button onclick="openLocal()">ğŸ’» æ‰“å¼€æœ¬åœ°ç¯å¢ƒ</button>
        </div>

        <div class="test-results" id="testResults"></div>
    </div>

    <script>
        const PROD_URL = 'https://ip-creator-ziyerrs-projects.vercel.app';
        const LOCAL_URL = 'http://localhost:3000';

        function updateStatus(message, type = 'info') {
            const results = document.getElementById('testResults');
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            results.appendChild(div);
            results.scrollTop = results.scrollHeight;
        }

        async function checkDeployment() {
            updateStatus('ğŸ” å¼€å§‹æ£€æŸ¥éƒ¨ç½²çŠ¶æ€...', 'info');
            
            // æ£€æŸ¥ç”Ÿäº§ç¯å¢ƒ
            try {
                updateStatus('ğŸ“¡ æ£€æŸ¥ç”Ÿäº§ç¯å¢ƒ...', 'info');
                const prodResponse = await fetch(PROD_URL, { 
                    method: 'HEAD',
                    mode: 'no-cors' // é¿å… CORS é—®é¢˜
                });
                
                document.getElementById('prodStatus').textContent = 'âœ… åœ¨çº¿';
                document.getElementById('prodUpdated').textContent = new Date().toLocaleString();
                updateStatus('âœ… ç”Ÿäº§ç¯å¢ƒæ­£å¸¸è¿è¡Œ', 'success');
                
            } catch (error) {
                document.getElementById('prodStatus').textContent = 'âŒ ç¦»çº¿';
                updateStatus('âŒ ç”Ÿäº§ç¯å¢ƒæ£€æŸ¥å¤±è´¥: ' + error.message, 'error');
            }

            // æ£€æŸ¥æœ¬åœ°ç¯å¢ƒ
            try {
                updateStatus('ğŸ’» æ£€æŸ¥æœ¬åœ°ç¯å¢ƒ...', 'info');
                const localResponse = await fetch(LOCAL_URL, { 
                    method: 'HEAD',
                    mode: 'no-cors'
                });
                
                document.getElementById('devStatus').textContent = 'âœ… è¿è¡Œä¸­';
                updateStatus('âœ… æœ¬åœ°ç¯å¢ƒæ­£å¸¸è¿è¡Œ', 'success');
                
            } catch (error) {
                document.getElementById('devStatus').textContent = 'âŒ æœªè¿è¡Œ';
                updateStatus('âš ï¸ æœ¬åœ°ç¯å¢ƒæœªè¿è¡Œæˆ–ä¸å¯è®¿é—®', 'warning');
            }
        }

        async function testAPI() {
            updateStatus('ğŸ§ª å¼€å§‹æµ‹è¯• API ç«¯ç‚¹...', 'info');
            
            const endpoints = [
                '/api/generate-single-image',
                '/outputs/'
            ];

            for (const endpoint of endpoints) {
                try {
                    updateStatus(`ğŸ“¡ æµ‹è¯• ${endpoint}...`, 'info');
                    
                    // æµ‹è¯•ç”Ÿäº§ç¯å¢ƒ
                    const prodUrl = PROD_URL + endpoint;
                    const response = await fetch(prodUrl, { 
                        method: 'HEAD',
                        mode: 'no-cors'
                    });
                    
                    updateStatus(`âœ… ç”Ÿäº§ç¯å¢ƒ ${endpoint} å¯è®¿é—®`, 'success');
                    
                } catch (error) {
                    updateStatus(`âŒ ${endpoint} æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                }
            }
        }

        function openProduction() {
            updateStatus('ğŸŒ æ‰“å¼€ç”Ÿäº§ç¯å¢ƒ...', 'info');
            window.open(PROD_URL, '_blank');
        }

        function openLocal() {
            updateStatus('ğŸ’» æ‰“å¼€æœ¬åœ°ç¯å¢ƒ...', 'info');
            window.open(LOCAL_URL, '_blank');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨æ£€æŸ¥
        window.onload = function() {
            updateStatus('ğŸš€ éƒ¨ç½²çŠ¶æ€æ£€æŸ¥å·¥å…·å·²åŠ è½½', 'info');
            updateStatus('ğŸ“ Vercel å·²é…ç½®è‡ªåŠ¨éƒ¨ç½²ï¼Œæ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯éƒ½ä¼šè§¦å‘éƒ¨ç½²', 'info');
            
            // å»¶è¿Ÿæ£€æŸ¥ï¼Œç»™é¡µé¢æ—¶é—´åŠ è½½
            setTimeout(checkDeployment, 1000);
        };
    </script>
</body>
</html>
